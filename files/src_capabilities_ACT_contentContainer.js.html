<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/capabilities/ACT_contentContainer.js - ACT.js</title>
    <link rel="stylesheet" href="https://s.yimg.com/zz/combo?yui-s:3.14.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="https://s.yimg.com/rz/l/favicon.ico">
    <script src="https://s.yimg.com/zz/combo?yui-s:3.14.1/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="https://s.yimg.com/cv/ae/global/ACTJS/logo/ACT.js.logo.png" title="ACT.js" width="126" height="100"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.22</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                            <li><a href="#api-demos">Demo and Examples</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/ACT.html">ACT</a></li>
                                <li><a href="../classes/ActionsQueue.html">ActionsQueue</a></li>
                                <li><a href="../classes/Base.html">Base</a></li>
                                <li><a href="../classes/Capability.html">Capability</a></li>
                                <li><a href="../classes/CapabilitySkeleton.html">CapabilitySkeleton</a></li>
                                <li><a href="../classes/Class.html">Class</a></li>
                                <li><a href="../classes/ContentAdfeedback.html">ContentAdfeedback</a></li>
                                <li><a href="../classes/ContentAdobeEdge.html">ContentAdobeEdge</a></li>
                                <li><a href="../classes/ContentCarousel.html">ContentCarousel</a></li>
                                <li><a href="../classes/ContentContainer.html">ContentContainer</a></li>
                                <li><a href="../classes/ContentHtml5.html">ContentHtml5</a></li>
                                <li><a href="../classes/ContentImage.html">ContentImage</a></li>
                                <li><a href="../classes/ContentProgressBar.html">ContentProgressBar</a></li>
                                <li><a href="../classes/ContentSwf.html">ContentSwf</a></li>
                                <li><a href="../classes/ContentThirdParty.html">ContentThirdParty</a></li>
                                <li><a href="../classes/ContentVideoFlash.html">ContentVideoFlash</a></li>
                                <li><a href="../classes/ContentVideoHtml.html">ContentVideoHtml</a></li>
                                <li><a href="../classes/ContentYoutube.html">ContentYoutube</a></li>
                                <li><a href="../classes/ContentYtv.html">ContentYtv</a></li>
                                <li><a href="../classes/Cookie.html">Cookie</a></li>
                                <li><a href="../classes/CustomData.html">CustomData</a></li>
                                <li><a href="../classes/Debug.html">Debug</a></li>
                                <li><a href="../classes/Dom.html">Dom</a></li>
                                <li><a href="../classes/DwellTime.html">DwellTime</a></li>
                                <li><a href="../classes/Enabler.html">Enabler</a></li>
                                <li><a href="../classes/Environment.html">Environment</a></li>
                                <li><a href="../classes/Event.html">Event</a></li>
                                <li><a href="../classes/Flash.html">Flash</a></li>
                                <li><a href="../classes/IO.html">IO</a></li>
                                <li><a href="../classes/Json.html">Json</a></li>
                                <li><a href="../classes/Lang.html">Lang</a></li>
                                <li><a href="../classes/LayersList.html">LayersList</a></li>
                                <li><a href="../classes/LayerStandard.html">LayerStandard</a></li>
                                <li><a href="../classes/Scaffolding.html">Scaffolding</a></li>
                                <li><a href="../classes/Screen.html">Screen</a></li>
                                <li><a href="../classes/SecureDarla.html">SecureDarla</a></li>
                                <li><a href="../classes/StandardAd.html">StandardAd</a></li>
                                <li><a href="../classes/Tracking.html">Tracking</a></li>
                                <li><a href="../classes/UA.html">UA</a></li>
                                <li><a href="../classes/Util.html">Util</a></li>
                                <li><a href="../classes/VideoEvents.html">VideoEvents</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ACT.html">ACT</a></li>
                                <li><a href="../modules/actionsQueue.html">actionsQueue</a></li>
                                <li><a href="../modules/Base.html">Base</a></li>
                                <li><a href="../modules/CapabilitySkeleton.html">CapabilitySkeleton</a></li>
                                <li><a href="../modules/ContentAdfeedback.html">ContentAdfeedback</a></li>
                                <li><a href="../modules/ContentAdobeEdge.html">ContentAdobeEdge</a></li>
                                <li><a href="../modules/ContentCarousel.html">ContentCarousel</a></li>
                                <li><a href="../modules/ContentContainer.html">ContentContainer</a></li>
                                <li><a href="../modules/ContentHtml5.html">ContentHtml5</a></li>
                                <li><a href="../modules/ContentImage.html">ContentImage</a></li>
                                <li><a href="../modules/ContentProgressBar.html">ContentProgressBar</a></li>
                                <li><a href="../modules/ContentSwf.html">ContentSwf</a></li>
                                <li><a href="../modules/ContentThirdParty.html">ContentThirdParty</a></li>
                                <li><a href="../modules/ContentVideoFlash.html">ContentVideoFlash</a></li>
                                <li><a href="../modules/ContentVideoHtml.html">ContentVideoHtml</a></li>
                                <li><a href="../modules/ContentYoutube.html">ContentYoutube</a></li>
                                <li><a href="../modules/ContentYtv.html">ContentYtv</a></li>
                                <li><a href="../modules/Cookie.html">Cookie</a></li>
                                <li><a href="../modules/DwellTime.html">DwellTime</a></li>
                                <li><a href="../modules/Enabler.html">Enabler</a></li>
                                <li><a href="../modules/environment.html">environment</a></li>
                                <li><a href="../modules/IO.html">IO</a></li>
                                <li><a href="../modules/LayersList.html">LayersList</a></li>
                                <li><a href="../modules/LayerStandard.html">LayerStandard</a></li>
                                <li><a href="../modules/Scaffolding.html">Scaffolding</a></li>
                                <li><a href="../modules/Screen.html">Screen</a></li>
                                <li><a href="../modules/SecureDarla.html">SecureDarla</a></li>
                                <li><a href="../modules/StandardAd.html">StandardAd</a></li>
                                <li><a href="../modules/Tracking.html">Tracking</a></li>
                            </ul>
                
                            <ul id="api-demos" class="apis demos">
                                <li><a href="../demo/ACT_Demo_300x250.html">300x250</a></li>
                                <li><a href="../demo/ACT_Demo_300x250_tracking.html">300x250_tracking</a></li>
                                <li><a href="../demo/ACT_Demo_TrackingExample.html">TrackingExample</a></li>
                                <li><a href="../demo/ACT_Demo_animation.html">animation</a></li>
                                <li><a href="../demo/ACT_Demo_billboard.html">billboard</a></li>
                                <li><a href="../demo/ACT_Demo_billboard-enabler.html">billboard-enabler</a></li>
                                <li><a href="../demo/ACT_Demo_billboard-expandable-enabler.html">billboard-expandable-enabler</a></li>
                                <li><a href="../demo/ACT_Demo_billboard_html_video.html">billboard_html_video</a></li>
                                <li><a href="../demo/ACT_Demo_billboard_html_video_rtl.html">billboard_html_video_rtl</a></li>
                                <li><a href="../demo/ACT_Demo_carousel.html">carousel</a></li>
                                <li><a href="../demo/ACT_Demo_dwelltime.html">dwelltime</a></li>
                                <li><a href="../demo/ACT_Demo_enabler_expand.html">enabler_expand</a></li>
                                <li><a href="../demo/ACT_Demo_enabler_fullscreen_expand.html">enabler_fullscreen_expand</a></li>
                                <li><a href="../demo/ACT_Demo_enabler_target.html">enabler_target</a></li>
                                <li><a href="../demo/ACT_Demo_floating.html">floating</a></li>
                                <li><a href="../demo/ACT_Demo_force_env.html">force_env</a></li>
                                <li><a href="../demo/ACT_Demo_html5_enabler.html">html5_enabler</a></li>
                                <li><a href="../demo/ACT_Demo_html5_standard.html">html5_standard</a></li>
                                <li><a href="../demo/ACT_Demo_icons.html">icons</a></li>
                                <li><a href="../demo/ACT_Demo_input_data.html">input_data</a></li>
                                <li><a href="../demo/ACT_Demo_login_html.html">login_html</a></li>
                                <li><a href="../demo/ACT_Demo_overwrite_env.html">overwrite_env</a></li>
                                <li><a href="../demo/ACT_Demo_splash_ad.html">splash_ad</a></li>
                                <li><a href="../demo/ACT_Demo_tablet_expandable.html">tablet_expandable</a></li>
                                <li><a href="../demo/ACT_Demo_video_event.html">video_event</a></li>
                                <li><a href="../demo/ACT_Demo_video_html.html">video_html</a></li>
                            </ul>
                
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/capabilities/ACT_contentContainer.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*
 * Copyright 2016, Yahoo Inc.
 * Copyrights licensed under the New BSD License.
 * See the accompanying LICENSE file for terms.
 */

/* global ACT */
/**
 * The &#x27;ContentContainer&#x27; is a capability made to generate a &#x27;DIV&#x27; tag use as a container.
 *
 * Available &#x27;actions&#x27;:
 * - openURL
 * - showContainer
 * - hideContainer
 * - changeStyles
 *
 * Available &#x27;triggers&#x27;:
 * - click
 * - mouseenter
 * - mouseleave
 *
 * Example of &#x27;SuperConf&#x27; use case:
 * &#x60;&#x60;&#x60;
 *    {
 *        id: &#x27;mpu_container&#x27;,
 *        type: &#x27;content-container&#x27;,
 *        classNode: &#x27;mpu_container_class&#x27;,
 *        env: [&#x27;html&#x27;,&#x27;flash&#x27;,&#x27;backup&#x27;],
 *        css: {
 *            width:&#x27;350&#x27;
 *        },
 *        eventConfig: [{
 *            eventType: &#x27;click&#x27;,
 *            actions: [
 *                {
 *                    type: &#x27;openURL&#x27;,
 *                    URLpath: &#x27;https://www.yahoo.com&#x27;,
 *                    URLname: &#x27;mpu_click_clicktag_open&#x27;
 *                }
 *            ],
 *            timeTo: 2
 *        }],
 *        content: []
 *    }
 * &#x60;&#x60;&#x60;
 *
 * @module ContentContainer
 * @main ContentContainer
 * @class ContentContainer
 * @requires Dom, lang, event, Class, Capability
 * @global
 */
ACT.define(&#x27;ContentContainer&#x27;, [/*@&lt;*/&#x27;Debug&#x27;, /*&gt;@*/ &#x27;Dom&#x27;, &#x27;Lang&#x27;, &#x27;Event&#x27;, &#x27;Class&#x27;, &#x27;Capability&#x27;, &#x27;Animation&#x27;], function (ACT) {
    &#x27;use strict&#x27;;

    /* Shorthand */
    var Dom = ACT.Dom;
    var Lang = ACT.Lang;
    var Event = ACT.Event;
    var Animation = ACT.Animation;
    var Class = ACT.Class;
    var Capability = ACT.Capability;

    /* Constants */
    var EVENT_CONTAINER_SHOW = &#x27;container:show&#x27;;
    var EVENT_CONTAINER_HIDE = &#x27;container:hide&#x27;;
    var EVENT_CONTAINER_ANIMATE = &#x27;container:animate&#x27;;
    var EVENT_CONTAINER_OPEN_URL = &#x27;container:openURL&#x27;;
    var EVENT_CONTAINER_START_FADE_TO = &#x27;container:startFadeTo&#x27;;
    var EVENT_CONTAINER_STOP_FADE_TO = &#x27;container:stopFadeTo&#x27;;
    var EVENT_CONTAINER_CHANGE_STYLES = &#x27;container:changeStyles&#x27;;
    var EVENT_CONTAINER_STOP_COUNTER = &#x27;container:stopCounter&#x27;;
    var EVENT_GLOBAL_CHECK_ACTION_CONDITION = &#x27;standardAd:checkActionCondition&#x27;;
    var EVENT_GLOBAL_ACTION_COMPLETE = &#x27;complete:action&#x27;;
    var DEFAULT_ACTION_TRIGGERS = [
        &#x27;click&#x27;,
        &#x27;mouseenter&#x27;,
        &#x27;mouseleave&#x27;
    ];

    var activeCounters = [];

    /* Action List */
    var contentActions = [{
        type: &#x27;openURL&#x27;,
        argument: {
            URLpath: {
                name: &#x27;URLpath&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            URLname: {
                name: &#x27;URLname&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_OPEN_URL, {
                from: args.from,
                URLpath: args.URLpath,
                URLname: args.URLname,
                done: function () {
                    Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
                }
            });
        }
    }, {
        type: &#x27;containerShow&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_SHOW, {
                containerId: args.id,
                done: function () {
                    Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
                }
            });
        }
    }, {
        type: &#x27;containerHide&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_HIDE, {
                containerId: args.id,
                done: function () {
                    Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
                }
            });
        }
    }, {
        type: &#x27;containerChangeStyles&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            styles: {
                name: &#x27;styles&#x27;,
                test: function (value) {
                    return Lang.isObject(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_CHANGE_STYLES, {
                containerId: args.id,
                styles: args.styles,
                done: function () {
                    Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
                }
            });
        }
    }, {
        type: &#x27;containerStartFadeTo&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            to: {
                name: &#x27;to&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            delay: {
                name: &#x27;delay&#x27;,
                test: function (value) {
                    return Lang.isNumber(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_START_FADE_TO, {
                containerId: args.id,
                targetId: args.to,
                delay: parseInt(args.delay, 10)
            });
            Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
        }
    }, {
        type: &#x27;containerStopFadeTo&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_STOP_FADE_TO, {
                containerId: args.id
            });
            Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
        }
    }, {
        type: &#x27;containerAnimate&#x27;,
        argument: {
            id: {
                name: &#x27;id&#x27;,
                test: function (value) {
                    return Lang.isString(value);
                }
            },
            from: {
                name: &#x27;from&#x27;,
                test: function (value) {
                    return Lang.isObject(value);
                }
            },
            to: {
                name: &#x27;to&#x27;,
                test: function (value) {
                    return Lang.isObject(value);
                }
            },
            duration: {
                name: &#x27;duration&#x27;,
                test: function (value) {
                    return Lang.isNumber(value);
                }
            },
            delay: {
                name: &#x27;delay&#x27;,
                test: function (value) {
                    return Lang.isNumber(value);
                }
            },
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId, args) {
            Event.fire(EVENT_CONTAINER_ANIMATE, {
                containerId: args.id,
                from: args.from || {},
                to: args.to || {},
                duration: parseInt(args.duration, 10) || 1,
                delay: parseInt(args.delay, 10) || 0,
                done: function () {
                    Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
                }
            });
        }
    }, {
        type: &#x27;containerStopProcesses&#x27;,
        argument: {
            timeout: {
              name: &#x27;timeout&#x27;,
              test: function (value) {
                return Lang.isNumber(value) || value === undefined || value === null;
              }
            }
        },
        process: function (actionId) {
            Event.fire(EVENT_CONTAINER_STOP_COUNTER);
            // this action remove itself
            Event.fire(EVENT_GLOBAL_ACTION_COMPLETE, actionId);
        }
    }];

    /*@&lt;*/
    var Debug = ACT.Debug;
    Debug.log(&#x27;[ ACT_contentContainer.js ] ContentContainer Loaded&#x27;);
    /*&gt;@*/

    /**
     * @class ContentContainer
     * @constructor
     */
    function ContentContainer(config) {
        this.init(config);
        // ContentContainer.superclass.constructor.apply(this, arguments);
    }

    ContentContainer.ATTRS = {
        /**
         * @attribute NAME
         * @type String
         */
        NAME: &#x27;ContentContainer&#x27;,

        /**
         * @attribute version
         * @type String
         */
        version: &#x27;1.0.41&#x27;
    };

    /* Private methods */

    /**
     * @method openUrl
     * @private
     * @param {String} URLpath
     * @param {String} URLname
     * @param {Function} done Optional function executed once the logic is done
     */
    function openUrl(URLpath, URLname, done) {
        // Before open clickTag, the destination URL need to be wrapped inside a tracking link.
        // The event below is to get wrapped tracking link from tracking module before open the link
        var listener = Event.on(&#x27;tracking:registerRedirect:complete&#x27;, function (eventData) {
            if (eventData.link !== &#x27;&#x27;) {
                window.open(eventData.link, &#x27;_blank&#x27;);
                Event.fire(&#x27;STOP_CONTENT&#x27;);

                if (done) {
                    done(eventData.link);
                }
            }
            listener.remove();
        });

        Event.fire(&#x27;tracking:registerRedirect&#x27;, {
            clickTag: URLpath,
            clickTagName: URLname
        });
    }

    /**
     * Listener for openURL event
     * this listen cannot be put inside container instance because it will be fired everytime a new container is created
     */
    Event.on(EVENT_CONTAINER_OPEN_URL, function (args) {
        openUrl(args.URLpath, args.URLname, args.done);
    });

    /**
     * Add action on trigger of setInterval after delay
     *
     * @method addCounterTrigger
     * @private
     * @param {Object} actionToAdd
     */
    function addCounterTrigger(actionToAdd) {
        var time = parseInt(actionToAdd.timeTo, 10) * 1000;
        var action = actionToAdd.actions;
        // gets one actions
        var counter = setInterval(function () {
            window.clearInterval(counter);
            Event.fire(&#x27;add:actions&#x27;, action);
        }, time);

        activeCounters.push(counter);
    }

    /**
     * Subscribe trigger action to the container&#x27;s listeners
     *
     * @method subscribeTriggerToContainerEvent
     * @private
     * @param {HTMLElement} node, node to attach event
     * @param {String} action, action to fire
     */
    function subscribeTriggerToContainerEvent(node, actionConfig) {
        Event.on(actionConfig.eventType, function (e) {
            Event.preventDefault(e);
            Event.fire(EVENT_GLOBAL_CHECK_ACTION_CONDITION, {
                actionConfig: actionConfig,
                callback: function (isExecutable) {
                    if (isExecutable) {
                        if (Lang.objHasKey(actionConfig, &#x27;timeTo&#x27;) &amp;&amp; actionConfig.timeTo !== &#x27;&#x27;) {
                            addCounterTrigger(actionConfig);
                        } else {
                            Event.fire(&#x27;add:actions&#x27;, actionConfig.actions);
                        }
                    } /*@&lt;*/ else {
                        Debug.warn(&#x27;[ ACT_contentContainer.js ] : Action is not executable : &#x27;, actionConfig);
                    }
                    /*&gt;@*/
                }
            });
        }, node);
    }

    /**
     * Set the event configuration to the node
     *
     * @method setButtonConfig
     * @private
     * @param {HTMLElement} node, node to attach events
     * @param {String} eventConfig, Configuration object for node
     */
    function setButtonConfig(node, eventConfig) {
        var name;
        var action;
        if (typeof eventConfig !== &#x27;object&#x27;) {
            return;
        }
        node.style.cursor = &#x27;pointer&#x27;;
        for (name in eventConfig) {
            /* istanbul ignore else */
            if (eventConfig.hasOwnProperty(name)) {
                action = eventConfig[name];
                if (Lang.arrayIndexOf(DEFAULT_ACTION_TRIGGERS, action.eventType) !== -1) {
                    subscribeTriggerToContainerEvent(node, action);
                }
            }
        }
    }

    /* Public methods */
    Lang.extend(ContentContainer, [Capability, Class], {
        /**
         * Function auto initiated when the class is instantiated
         *
         * @method initializer
         * @param {Object} config
         */
        initializer: function (config) {
            // subscribes and save listeners
            this.initializeListeners();

            // save configObject reference
            this.set(&#x27;configObject&#x27;, config);

            // register action to actions-queue
            Event.fire(&#x27;register:Actions&#x27;, contentActions);
        },

        /**
         * Function to initialize event listeners for this instance
         *
         * @method initializeListeners
         */
        initializeListeners: function () {
            var root = this;

            root.addEventListeners(
                Event.on(&#x27;screen:status&#x27;, function (status) {
                    if (root.get(&#x27;configObject&#x27;) &amp;&amp; root.get(&#x27;configObject&#x27;).resize) {
                        root.resize(status, root.get(&#x27;configObject&#x27;));
                    }
                }),

                Event.on(EVENT_CONTAINER_SHOW, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.showContainer(eventData.done);
                    }
                }),

                Event.on(EVENT_CONTAINER_HIDE, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.hideContainer(eventData.done);
                    }
                }),

                Event.on(EVENT_CONTAINER_CHANGE_STYLES, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.changeStyles(eventData.styles, eventData.done);
                    }
                }),

                Event.on(EVENT_CONTAINER_START_FADE_TO, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.startFadeTo(eventData.targetId, eventData.delay);
                    }
                }),

                Event.on(EVENT_CONTAINER_STOP_FADE_TO, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.stopFadeTo();
                    }
                }),

                Event.on(EVENT_CONTAINER_ANIMATE, function (eventData) {
                    if (eventData.containerId === root.get(&#x27;id&#x27;)) {
                        root.animateContainer(
                            eventData.from || {},
                            eventData.to || {},
                            eventData.duration,
                            eventData.delay || 0,
                            eventData.done
                        );
                    }
                }),

                Event.on(EVENT_CONTAINER_STOP_COUNTER, function () {
                    root.stopCounter();
                })
            );
        },

        /**
         * Function called when the instance is destroyed
         *
         * @method destructor
         */
        destructor: function () {
            var node = this.get(&#x27;node&#x27;);
            if (Dom.isDomElement(node) &amp;&amp; node.parentNode) {
                // Event.purgeListeners(node);
                node.parentNode.removeChild(node);
            }
        },

        /**
         * Render the node from given config object, environment and orientation state
         *
         * @method renderContent
         * @param {Object} configObject
         * @param {String} env
         * @param {String} orientation
         * @return {HTMLElement} node
         */
        renderContent: function (configObject) {
            var node = document.createElement(&#x27;div&#x27;);
            node = this.applyNodeConfig(node, configObject);
            // set inner text
            if (configObject.containerConfig) {
                node.innerHTML = configObject.containerConfig.innerText || &#x27;&#x27;;
            }

            // set click action to container if defined
            setButtonConfig(node, configObject.eventConfig);

            return node;
        },

        /**
         * Function generating the node &#x27;DIV&#x27;
         *
         * @method getContent
         * @param {String} env Environment for rendering content such as html/flash/backup
         * @param {String} orientation Orientation of current device such as landscape and portraits for mobile
         * @return {HTMLElement} node
         */
        getContent: function (env, orientation) {
            var node = this.renderContent(this.get(&#x27;configObject&#x27;), env, orientation);

            // save reference to the node
            this.set(&#x27;node&#x27;, node);
            return {
                node: node
            };
        },

        /*@&lt;*/
        /**
         * for testing purpose only
         */
        openUrl: openUrl,
        /*&gt;@*/

        /**
         * @method showContainer
         * @param {Function} done Optional function executed once the logic is done
         */
        showContainer: function (done) {
            this.get(&#x27;node&#x27;).style.display = &#x27;block&#x27;;
            if (done) {
                done();
            }
        },

        /**
         * @method hideContainer
         * @param {Function} done Optional function executed once the logic is done
         */
        hideContainer: function (done) {
            this.get(&#x27;node&#x27;).style.display = &#x27;none&#x27;;
            if (done) {
                done();
            }
        },

        /**
         * @method changeStyles
         * @param {Object} styles, information of the style to apply to node
         * @param {Function} done Optional function executed once the logic is done
         */
        changeStyles: function (styles, done) {
            var node = this.get(&#x27;node&#x27;);
            Dom.applyStyles(node, styles);
            if (done) {
                done();
            }
        },

        startFadeTo: function (to, delay) {
            var root = this;
            var target = Dom.byId(to);
            var node = this.get(&#x27;node&#x27;);

            this.FADE_EVENT = Event.on(&#x27;mousemove&#x27;, function () {
                if (root.fire) {
                    clearTimeout(root.fire);
                }

                if (delay &amp;&amp; delay &gt; 0) {
                    root.fire = setTimeout(function () {
                        clearTimeout(root.fire);
                        if (target.style.opacity === &#x27;1&#x27;) {
                            Animation.anim(target, { opacity: &#x27;0&#x27; }, null, 500);
                        }
                    }, delay);
                }
                if (target.style.opacity === &#x27;0&#x27;) {
                    Animation.anim(target, { opacity: &#x27;1&#x27; }, null, 500);
                }
            }, node);
        },

        stopFadeTo: function () {
            if (this.FADE_EVENT) {
                if (this.fire) {
                    clearTimeout(this.fire);
                }
                this.FADE_EVENT.remove();
            }
        },

        /**
         * @method animateContainer
         * @param {Object} from Initial styles of the container
         * @param {Object} to Final styles for the container
         * @param {Number} duration Second the animation happen
         * @param {Number} delay Delay time before the animation start
         * @param {Function} done Optional function executed once the logic is done
         */
        animateContainer: function (from, to, duration, delay, done) {
            Animation.anim(this.get(&#x27;node&#x27;), from, to, duration, delay, null, done);
        },

        /**
         * @method stopCounter
         */
        stopCounter: function () {
            var i;
            // run array and shot anything there
            for (i = 0; i &lt; activeCounters.length; i++) {
                window.clearInterval(activeCounters[i]);
            }
        }
    });

    return ContentContainer;
});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
